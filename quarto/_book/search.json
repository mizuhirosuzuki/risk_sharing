[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Risk sharing",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "3  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Summary",
    "section": "",
    "text": "In summary, this book has no content whatsoever.\n\n1 + 1\n\n[1] 2"
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97."
  },
  {
    "objectID": "dynamic_limited_commitment_theory.html#ligon-thomas-and-worrall-2002",
    "href": "dynamic_limited_commitment_theory.html#ligon-thomas-and-worrall-2002",
    "title": "3  Dynamic limited-commitment model (theory)",
    "section": "3.1 Ligon, Thomas, and Worrall (2002)",
    "text": "3.1 Ligon, Thomas, and Worrall (2002)"
  },
  {
    "objectID": "dynamic_limited_commitment_theory.html#ligon2002informal",
    "href": "dynamic_limited_commitment_theory.html#ligon2002informal",
    "title": "3  Dynamic limited-commitment model (theory)",
    "section": "3.1 Ligon, Thomas, and Worrall (2002)",
    "text": "3.1 Ligon, Thomas, and Worrall (2002)\n\n\n\n\nLigon, Ethan, Jonathan P Thomas, and Tim Worrall. 2002. “Informal Insurance Arrangements with Limited Commitment: Theory and Evidence from Village Economies.” The Review of Economic Studies 69 (1): 209–44."
  },
  {
    "objectID": "dynamic_limited_commitment_theory.html#model-based-on-ligon2002informal",
    "href": "dynamic_limited_commitment_theory.html#model-based-on-ligon2002informal",
    "title": "3  Dynamic limited-commitment model (theory)",
    "section": "3.1 Model based on Ligon, Thomas, and Worrall (2002)",
    "text": "3.1 Model based on Ligon, Thomas, and Worrall (2002)\n\n\n\n\nLigon, Ethan, Jonathan P Thomas, and Tim Worrall. 2002. “Informal Insurance Arrangements with Limited Commitment: Theory and Evidence from Village Economies.” The Review of Economic Studies 69 (1): 209–44."
  },
  {
    "objectID": "static_limited_commitment.html#model-in-coate1993reciprocity",
    "href": "static_limited_commitment.html#model-in-coate1993reciprocity",
    "title": "2  Static limited-commitment model (theory and simulation)",
    "section": "2.1 Model in Coate and Ravallion (1993)",
    "text": "2.1 Model in Coate and Ravallion (1993)\nTheir framework is based on an infinite-period repeated game: in each period, players either follow a transfer schedule or renege and will stay in autarky forever. Under symmetric income distribution, they compare first-best transfers under full risk-sharing and best implementable transfers (best in the sense that the transfers that maximize the expected utilities).\nThe problem considered in the paper is to maximize the average expected utility of a household (by symmetry, a transfer schedule that maximizes the average expected utility of one household maximizes that of the other household), subject to the following implementability constraints:\n\\[\\begin{align*}\n  u(y_i) - u(y_i - \\theta_{ij}) &\\le (v^A(\\Theta) - \\overline{v}) / r \\quad \\text{for all } (i, j) \\\\\n  u(y_j) - u(y_j + \\theta_{ij}) &\\le (v^B(\\Theta) - \\overline{v}) / r \\quad \\text{for all } (i, j),\n\\end{align*}\\]\nwhere \\(y\\) is income, \\(\\theta_{ij}\\) is the transfer from A to B when the state is \\((i, j)\\), \\(\\Theta\\) is the entire transfer schedule, or informal insurance arrangement, \\(\\overline{v}\\) is the value under autarky, and \\(r\\) is the discount rate. Per-period expected utilities of A and B, \\(v^A(\\Theta)\\) and \\(v^B(\\Theta)\\), under the informal insurance arrangement \\(\\Theta\\) are\n\\[\\begin{align*}\n  v^A(\\Theta) = \\sum_{i} \\sum_{j} \\pi_{ij} u(y_i - \\theta_{ij}), \\\\\n  v^B(\\Theta) = \\sum_{i} \\sum_{j} \\pi_{ij} u(y_j + \\theta_{ij}),\n\\end{align*}\\]\nwhere \\(\\pi_{ij}\\) is a probability of the state \\((i, j)\\).\nTo characterize the transfers under those constraints, the authors define the function \\(f(y, w)\\) which implicitly satisfies \\(u(y) - u(y - f) = w\\). The function represents the maximal amount of income that can be taken from a household without violating the implementability constraints where the cost of defection is \\(w\\). With this, they derive that\n\\[\\begin{equation*}\n  \\theta_{ij}^* = \\min \\{\\widehat{\\theta}_{ij}, f(y_i, (v(\\theta^*) - \\overline{v}) / r) \\}.\n\\end{equation*}\\]\nHere, \\(\\theta^*\\) is the contract which results in the highest average expected utility subject to the implementability constraints, and \\(\\widehat{\\theta}\\) is the transfer schedule under the full risk-sharing. Intuitively, this means that, as long as the implementability constraints are not violated, the transfer schedule coincides with the one under full risk-sharing, but otherwise, as much money as possible is transferred so that the constraints are not violated.\nFurthermore, they examine (i) how the best implementable (ie. under the implementability constraints) insurance arrangement and the full risk-sharing insurance arrangement differ, and (ii) how the best implementable insurance arrangement changes with exogenous variables of the model (discount rate and correlation in income realizations). To (i), they find, for example, that the transfers under the implementability constraints do depend on not the level of incomes, unlike the first-best contracts where transfers depend only on the income difference between households. Regarding the comparative static properties as in the question (ii), they demonstrate smaller transfers among less patient househodls and also in situations where income realizations are highly correlated."
  },
  {
    "objectID": "static_limited_commitment.html#numerical-exercise",
    "href": "static_limited_commitment.html#numerical-exercise",
    "title": "2  Static limited-commitment model (theory and simulation)",
    "section": "2.2 Numerical exercise",
    "text": "2.2 Numerical exercise\nI conduct a numerical exercise to replicate Table 3 in Coate and Ravallion (1993).\n\n2.2.1 Procedure\nI follow the parametric settings in Coate and Ravallion (1993). A constant relative risk aversion utility function is assumed: \\(u_y = y^{(1 - \\rho)} / (1 - \\rho)\\). Using the representation of the transfer schedule under the constraints, the authors derive the transfer schedule in the following iterative method:\n\\[\\begin{equation*}\n  \\theta_{ij}^*(t + 1) = \\min \\{\\widehat{\\theta}_{ij}, f(y_i, (v(\\theta^*(t)) - \\overline{v}) / r) \\},\n\\end{equation*}\\]\nwhere \\(\\theta^*(t)\\) is the vector of transfers obtained at the \\(t\\)th iteration with \\(\\theta^*(0) = 0\\). The converged vector of \\(\\theta^*(t)\\) is used as the implementable transfers.\nThere is one very minor typo in the paper: the equation (5) should be \\(\\theta_{ij}^*(t + 1) = \\min \\{ \\widehat{\\theta}_{ij}, y_i - [y_i^{1 - \\rho} - (v(\\theta^*(t)) - \\bar{v}) (1 - \\rho) / r ]^{1 / (1 - \\rho)} \\}\\) instead of \\(\\theta_{ij}^*(t + 1) = \\min \\{ \\widehat{\\theta}_{ij}, y_i - [y_i^{1 - \\rho} - (v(\\theta^*(t)) - \\bar{v}) / r ]^{1 / (1 - \\rho)} \\}\\). This is fixed in the code below.\n\n\n2.2.2 Replication of Table 3: The “highly non-covariate” income stream\n\nrm(list = ls())\nlibrary(knitr)\n\n# income states\ny_vals <- c(1, 2, 3)\n# transfers under full risk-sharing\ntheta_hat_vals <- c((y_vals[2] - y_vals[1]) / 2, \n                    (y_vals[3] - y_vals[1]) / 2, \n                    (y_vals[3] - y_vals[2]) / 2)\n\n# v(theta)\nv_theta <- function(theta, y_vals, pi, rho){\n  output <- 0\n  for (i in 1:3){\n    if (i > 1){\n      for (j in 1:(i-1)){\n        output <- output + pi[i,j] * ((y_vals[i] - theta[i+j-2]) ^ (1 - rho) / (1 - rho) + \n                                      (y_vals[j] + theta[i+j-2]) ^ (1 - rho) / (1 - rho))\n      } \n    } else {\n      output <- output\n    }\n    output <- output + pi[i, i] * (y_vals[i]) ^ (1 - rho) / (1 - rho) \n  }\n  return(output)\n}\n\n# Iteration for theta_star\niteration <- function(theta_star, theta_hat, y_val, y_vals, pi, rho, r, v_bar){\n  new_theta_star_ij <- min(theta_hat, \n                           y_val - (y_val ^ (1 - rho) - \n                                    (v_theta(theta_star, y_vals, pi, rho) - v_bar) \n                                    * (1 - rho) / r) ^ (1 / (1 - rho)))\n  return(new_theta_star_ij)\n}\n\n# Iteration loop for theta_star\ntheta_star_loop <- function(init_theta_star, theta_hat_vals, y_vals, pi, rho, r, v_bar){\n  iter <- 0\n  tol <- 1e-16\n  error <- tol + 1\n  theta_star <- init_theta_star\n  new_theta_star <- rep(0, 3)\n  while (iter < 500 & error > tol){\n    new_theta_star[1] <- iteration(theta_star, theta_hat_vals[1], \n                                   y_vals[2], y_vals, pi, rho, r, v_bar)\n    new_theta_star[2] <- iteration(theta_star, theta_hat_vals[2], \n                                   y_vals[3], y_vals, pi, rho, r, v_bar)\n    new_theta_star[3] <- iteration(theta_star, theta_hat_vals[3], \n                                   y_vals[3], y_vals, pi, rho, r, v_bar)\n    error = max(abs(new_theta_star - theta_star))\n    theta_star <- new_theta_star\n    iter <- iter + 1\n  }\n  return(theta_star)\n}\n\n\ntable_3 <- matrix(rep(0, (5 + 6 + 8) * 6), ncol = 6)\npi <- matrix(c(0.1, 0.1, 0.15, 0.1, 0.1, 0.1, 0.15, 0.1, 0.1), nrow = 3) \nr_vals <- c(0.05, 0.15, 0.25)\nrho_vals <- c(0.1, 0.3, 0.5, 0.7, 0.9, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.3, 2.5, 2.7)\n# r = 0.05\nr <- r_vals[1]\nfor (i in 1:5){\n  # r\n  table_3[i, 1] <- r\n  # rho\n  table_3[i, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i, 5] <- theta_star[3]\n  # gamma\n  table_3[i, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                   (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.15\nr <- r_vals[2]\nfor (i in 1:6){\n  # r\n  table_3[i+5, 1] <- r\n  # rho\n  table_3[i+5, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i+5, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i+5, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i+5, 5] <- theta_star[3]\n  # gamma\n  table_3[i+5, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                     (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.25\nr <- r_vals[3]\nfor (i in 1:8){\n  # r\n  table_3[i+11, 1] <- r\n  # rho\n  table_3[i+11, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i+11, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i+11, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i+11, 5] <- theta_star[3]\n  # gamma\n  table_3[i+11, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                      (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\ncolnames(table_3) <- c(\"$r$\", \"$\\\\rho$\", \"$\\\\theta_{21}^*$\", \n                       \"$\\\\theta_{31}^*$\", \"$\\\\theta_{32}^*$\", \"$\\\\gamma$\")\nkable(table_3, digits = 3, caption = \"Highly non-covariate income streams\")\n\n\nHighly non-covariate income streams\n\n\n\n\n\n\n\n\n\n\n\\(r\\)\n\\(\\rho\\)\n\\(\\theta_{21}^*\\)\n\\(\\theta_{31}^*\\)\n\\(\\theta_{32}^*\\)\n\\(\\gamma\\)\n\n\n\n\n0.05\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.05\n0.3\n0.500\n0.648\n0.500\n0.914\n\n\n0.05\n0.5\n0.500\n1.000\n0.500\n1.000\n\n\n0.05\n0.7\n0.500\n1.000\n0.500\n1.000\n\n\n0.05\n0.9\n0.500\n1.000\n0.500\n1.000\n\n\n0.15\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.5\n0.131\n0.161\n0.161\n0.360\n\n\n0.15\n0.7\n0.425\n0.570\n0.500\n0.872\n\n\n0.15\n0.9\n0.500\n0.857\n0.500\n0.987\n\n\n0.15\n1.1\n0.500\n1.000\n0.500\n1.000\n\n\n0.25\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.7\n0.058\n0.077\n0.077\n0.184\n\n\n0.25\n0.9\n0.287\n0.415\n0.415\n0.734\n\n\n0.25\n1.1\n0.428\n0.665\n0.500\n0.924\n\n\n0.25\n1.3\n0.500\n0.866\n0.500\n0.989\n\n\n0.25\n1.5\n0.500\n1.000\n0.500\n1.000\n\n\n\n\n\n\n\n\n\nCoate, Stephen, and Martin Ravallion. 1993. “Reciprocity Without Commitment: Characterization and Performance of Informal Insurance Arrangements.” Journal of Development Economics 40 (1): 1–24.\n\n\nLigon, Ethan, Jonathan P Thomas, and Tim Worrall. 2002. “Informal Insurance Arrangements with Limited Commitment: Theory and Evidence from Village Economies.” The Review of Economic Studies 69 (1): 209–44."
  },
  {
    "objectID": "static_limited_commitment.html#replication-of-table-1-the-highly-covariate-income-stream",
    "href": "static_limited_commitment.html#replication-of-table-1-the-highly-covariate-income-stream",
    "title": "2  Static limited-commitment model (theory and simulation)",
    "section": "2.3 Replication of Table 1: The “highly covariate” income stream",
    "text": "2.3 Replication of Table 1: The “highly covariate” income stream\n\ntable_1 <- matrix(rep(0, (5 + 11 + 14) * 6), ncol = 6)\npi <- matrix(c(0.2, 0.05, 0.05, 0.05, 0.3, 0.05, 0.05, 0.05, 0.2), nrow = 3) \nr_vals <- c(0.05, 0.15, 0.25)\nrho_vals <- c(0.1, 0.3, 0.5, 0.7, 0.9, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.3, 2.5, 2.7)\n# r = 0.05\nr <- r_vals[1]\nfor (i in 1:5){\n  # r\n  table_1[i, 1] <- r\n  # rho\n  table_1[i, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_1[i, 3] <- theta_star[1]\n  # theta_star_31\n  table_1[i, 4] <- theta_star[2]\n  # theta_star_32\n  table_1[i, 5] <- theta_star[3]\n  # gamma\n  table_1[i, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                   (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.15\nr <- r_vals[2]\nfor (i in 1:11){\n  # r\n  table_1[i+5, 1] <- r\n  # rho\n  table_1[i+5, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_1[i+5, 3] <- theta_star[1]\n  # theta_star_31\n  table_1[i+5, 4] <- theta_star[2]\n  # theta_star_32\n  table_1[i+5, 5] <- theta_star[3]\n  # gamma\n  table_1[i+5, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                     (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.25\nr <- r_vals[3]\nfor (i in 1:14){\n  # r\n  table_1[i+16, 1] <- r\n  # rho\n  table_1[i+16, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_1[i+16, 3] <- theta_star[1]\n  # theta_star_31\n  table_1[i+16, 4] <- theta_star[2]\n  # theta_star_32\n  table_1[i+16, 5] <- theta_star[3]\n  # gamma\n  table_1[i+16, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                      (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\ncolnames(table_1) <- c(\"$r$\", \"$\\\\rho$\", \"$\\\\theta_{21}^*$\", \n                       \"$\\\\theta_{31}^*$\", \"$\\\\theta_{32}^*$\", \"$\\\\gamma$\")\nkable(table_1, digits = 3, caption = \"Highly covariate income streams\")\n\n\nHighly covariate income streams\n\n\n\n\n\n\n\n\n\n\n\\(r\\)\n\\(\\rho\\)\n\\(\\theta_{21}^*\\)\n\\(\\theta_{31}^*\\)\n\\(\\theta_{32}^*\\)\n\\(\\gamma\\)\n\n\n\n\n0.05\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.05\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.05\n0.5\n0.262\n0.323\n0.323\n0.649\n\n\n0.05\n0.7\n0.500\n0.686\n0.500\n0.942\n\n\n0.05\n0.9\n0.500\n0.963\n0.500\n0.999\n\n\n0.15\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.7\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.9\n0.001\n0.001\n0.001\n0.003\n\n\n0.15\n1.1\n0.179\n0.279\n0.279\n0.568\n\n\n0.15\n1.3\n0.299\n0.500\n0.500\n0.819\n\n\n0.15\n1.5\n0.386\n0.685\n0.500\n0.934\n\n\n0.15\n1.7\n0.452\n0.846\n0.500\n0.986\n\n\n0.15\n1.9\n0.500\n0.982\n0.500\n1.000\n\n\n0.15\n2.1\n0.500\n1.000\n0.500\n1.000\n\n\n0.25\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.7\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.9\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n1.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n1.3\n0.034\n0.057\n0.057\n0.140\n\n\n0.25\n1.5\n0.149\n0.270\n0.270\n0.543\n\n\n0.25\n1.7\n0.234\n0.451\n0.451\n0.761\n\n\n0.25\n1.9\n0.299\n0.608\n0.500\n0.879\n\n\n0.25\n2.1\n0.353\n0.750\n0.500\n0.946\n\n\n0.25\n2.3\n0.398\n0.875\n0.500\n0.981\n\n\n0.25\n2.5\n0.435\n0.985\n0.500\n0.995\n\n\n0.25\n2.7\n0.468\n1.000\n0.500\n0.999"
  },
  {
    "objectID": "static_limited_commitment.html#replication-of-table-2-the-moderately-covariate-income-stream",
    "href": "static_limited_commitment.html#replication-of-table-2-the-moderately-covariate-income-stream",
    "title": "2  Static limited-commitment model (theory and simulation)",
    "section": "2.4 Replication of Table 2: The “moderately covariate” income stream",
    "text": "2.4 Replication of Table 2: The “moderately covariate” income stream\n\ntable_2 <- matrix(rep(0, (5 + 7 + 9) * 6), ncol = 6)\npi <- matrix(c(0.1, 0.1, 0.1, 0.1, 0.2, 0.1, 0.1, 0.1, 0.1), nrow = 3) \nr_vals <- c(0.05, 0.15, 0.25)\nrho_vals <- c(0.1, 0.3, 0.5, 0.7, 0.9, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.3, 2.5, 2.7)\n# r = 0.05\nr <- r_vals[1]\nfor (i in 1:5){\n  # r\n  table_2[i, 1] <- r\n  # rho\n  table_2[i, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_2[i, 3] <- theta_star[1]\n  # theta_star_31\n  table_2[i, 4] <- theta_star[2]\n  # theta_star_32\n  table_2[i, 5] <- theta_star[3]\n  # gamma\n  table_2[i, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                   (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.15\nr <- r_vals[2]\nfor (i in 1:7){\n  # r\n  table_2[i+5, 1] <- r\n  # rho\n  table_2[i+5, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_2[i+5, 3] <- theta_star[1]\n  # theta_star_31\n  table_2[i+5, 4] <- theta_star[2]\n  # theta_star_32\n  table_2[i+5, 5] <- theta_star[3]\n  # gamma\n  table_2[i+5, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                     (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.25\nr <- r_vals[3]\nfor (i in 1:9){\n  # r\n  table_2[i+12, 1] <- r\n  # rho\n  table_2[i+12, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_2[i+12, 3] <- theta_star[1]\n  # theta_star_31\n  table_2[i+12, 4] <- theta_star[2]\n  # theta_star_32\n  table_2[i+12, 5] <- theta_star[3]\n  # gamma\n  table_2[i+12, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                      (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\ncolnames(table_2) <- c(\"$r$\", \"$\\\\rho$\", \"$\\\\theta_{21}^*$\", \n                       \"$\\\\theta_{31}^*$\", \"$\\\\theta_{32}^*$\", \"$\\\\gamma$\")\nkable(table_2, digits = 3, caption = \"Moderately covariate income streams\")\n\n\nModerately covariate income streams\n\n\n\n\n\n\n\n\n\n\n\\(r\\)\n\\(\\rho\\)\n\\(\\theta_{21}^*\\)\n\\(\\theta_{31}^*\\)\n\\(\\theta_{32}^*\\)\n\\(\\gamma\\)\n\n\n\n\n0.05\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.05\n0.3\n0.365\n0.415\n0.415\n0.766\n\n\n0.05\n0.5\n0.500\n0.934\n0.500\n0.997\n\n\n0.05\n0.7\n0.500\n1.000\n0.500\n1.000\n\n\n0.05\n0.9\n0.500\n1.000\n0.500\n1.000\n\n\n0.15\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.7\n0.253\n0.338\n0.338\n0.663\n\n\n0.15\n0.9\n0.434\n0.628\n0.500\n0.916\n\n\n0.15\n1.1\n0.500\n0.857\n0.500\n0.989\n\n\n0.15\n1.3\n0.500\n1.000\n0.500\n1.000\n\n\n0.25\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.7\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.9\n0.122\n0.176\n0.176\n0.397\n\n\n0.25\n1.1\n0.282\n0.440\n0.440\n0.769\n\n\n0.25\n1.3\n0.390\n0.649\n0.500\n0.920\n\n\n0.25\n1.5\n0.469\n0.827\n0.500\n0.983\n\n\n0.25\n1.7\n0.500\n0.977\n0.500\n1.000"
  },
  {
    "objectID": "static_limited_commitment.html#replication-of-table-3-the-highly-non-covariate-income-stream",
    "href": "static_limited_commitment.html#replication-of-table-3-the-highly-non-covariate-income-stream",
    "title": "2  Static limited-commitment model (theory and simulation)",
    "section": "2.5 Replication of Table 3: The “highly non-covariate” income stream",
    "text": "2.5 Replication of Table 3: The “highly non-covariate” income stream\n\ntable_3 <- matrix(rep(0, (5 + 6 + 8) * 6), ncol = 6)\npi <- matrix(c(0.1, 0.1, 0.15, 0.1, 0.1, 0.1, 0.15, 0.1, 0.1), nrow = 3) \nr_vals <- c(0.05, 0.15, 0.25)\nrho_vals <- c(0.1, 0.3, 0.5, 0.7, 0.9, 1.1, 1.3, 1.5, 1.7, 1.9, 2.1, 2.3, 2.5, 2.7)\n# r = 0.05\nr <- r_vals[1]\nfor (i in 1:5){\n  # r\n  table_3[i, 1] <- r\n  # rho\n  table_3[i, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i, 5] <- theta_star[3]\n  # gamma\n  table_3[i, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                   (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.15\nr <- r_vals[2]\nfor (i in 1:6){\n  # r\n  table_3[i+5, 1] <- r\n  # rho\n  table_3[i+5, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i+5, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i+5, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i+5, 5] <- theta_star[3]\n  # gamma\n  table_3[i+5, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                     (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\n# r = 0.25\nr <- r_vals[3]\nfor (i in 1:8){\n  # r\n  table_3[i+11, 1] <- r\n  # rho\n  table_3[i+11, 2] <- rho_vals[i]\n  # v_bar\n  v_bar <- 0\n  for (j in 1:3){\n    for (k in 1:3){\n      v_bar <- v_bar + pi[j,k] * (y_vals[j] ^ (1 - rho_vals[i]) / (1 - rho_vals[i]))\n    }\n  }\n  # theta_star iteration\n  init_theta_star <- theta_hat_vals\n  theta_star <- theta_star_loop(init_theta_star, theta_hat_vals, \n                                y_vals, pi, rho_vals[i], r, v_bar)\n  # theta_star_21\n  table_3[i+11, 3] <- theta_star[1]\n  # theta_star_31\n  table_3[i+11, 4] <- theta_star[2]\n  # theta_star_32\n  table_3[i+11, 5] <- theta_star[3]\n  # gamma\n  table_3[i+11, 6] <- (v_theta(theta_star, y_vals, pi, rho_vals[i]) - v_bar) / \n                      (v_theta(theta_hat_vals, y_vals, pi, rho_vals[i]) - v_bar)\n}\ncolnames(table_3) <- c(\"$r$\", \"$\\\\rho$\", \"$\\\\theta_{21}^*$\", \n                       \"$\\\\theta_{31}^*$\", \"$\\\\theta_{32}^*$\", \"$\\\\gamma$\")\nkable(table_3, digits = 3, caption = \"Highly non-covariate income streams\")\n\n\nHighly non-covariate income streams\n\n\n\n\n\n\n\n\n\n\n\\(r\\)\n\\(\\rho\\)\n\\(\\theta_{21}^*\\)\n\\(\\theta_{31}^*\\)\n\\(\\theta_{32}^*\\)\n\\(\\gamma\\)\n\n\n\n\n0.05\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.05\n0.3\n0.500\n0.648\n0.500\n0.914\n\n\n0.05\n0.5\n0.500\n1.000\n0.500\n1.000\n\n\n0.05\n0.7\n0.500\n1.000\n0.500\n1.000\n\n\n0.05\n0.9\n0.500\n1.000\n0.500\n1.000\n\n\n0.15\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.15\n0.5\n0.131\n0.161\n0.161\n0.360\n\n\n0.15\n0.7\n0.425\n0.570\n0.500\n0.872\n\n\n0.15\n0.9\n0.500\n0.857\n0.500\n0.987\n\n\n0.15\n1.1\n0.500\n1.000\n0.500\n1.000\n\n\n0.25\n0.1\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.3\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.5\n0.000\n0.000\n0.000\n0.000\n\n\n0.25\n0.7\n0.058\n0.077\n0.077\n0.184\n\n\n0.25\n0.9\n0.287\n0.415\n0.415\n0.734\n\n\n0.25\n1.1\n0.428\n0.665\n0.500\n0.924\n\n\n0.25\n1.3\n0.500\n0.866\n0.500\n0.989\n\n\n0.25\n1.5\n0.500\n1.000\n0.500\n1.000\n\n\n\n\n\n\n\n\n\nCoate, Stephen, and Martin Ravallion. 1993. “Reciprocity Without Commitment: Characterization and Performance of Informal Insurance Arrangements.” Journal of Development Economics 40 (1): 1–24."
  }
]